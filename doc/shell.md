# シェル
カーネルとユーザー入力の仲介を行う

## 種類
* bash 
  * 多くのディストリで標準で使われる
* csh
  * C言語っぽい感じでコマンドが書ける
  *
```
if ( $days > 365 ) then
   echo This is over a year.
endif
```
  * ksh
 
## ログインシェル
ログイン直後に使用するシェル。
`/etc/passwd` で指定する。
直接指定せずにchshコマンドで変更する方法もある。
* 利用可能なシェル一覧→ `chsh  --list-shells`。`/etc/shells`に利用可能シェル一蘭がある。

環境変数 `PS1`にプロンプトの書式が指定される。

# 基本操作
## 補完機能
ファイル名を途中まで入力後`tab`キーを押すと残りが補完される。

```
cat /etc/pass # tab
cat /etc/passwd
```
みたいな。

## カーソル移動
`ctrl + A`と`ctrl + E` でそれぞれカーソルを行頭、行末に移動させられるらしい。
zshだとオフになっているので`bindkey -e`を実行すると聞くようになる

## コマンドラインの編集

## ディレクトリ指定
```
cd [enter]
```
でホームディレクトリいけてしまうよね

## シェル変数と環境変数
* シェル変数…定義したシェル上でしか参照できない
* 環境変数…子プロセスからも参照できる変数
  * export コマンドで設定する

mofu.sh
```
echo $HOGE
```

```
HOGE="mofu"
sh mofu.sh # 何も表示されない
export HOGE
sh mofu.sh # mofu
```

### 変数の削除
`unset var_name`

## PATH
* 内部コマンド
  * シェル自体に組み込まれているもの。 `help`を入力すると見れる。
* 外部コマンド
  * パス通さないといけない奴
    * `PATH=PATH":/etc/libs/nantoka"` みたいな


## コマンド実行
* cmd1;cmd2 cmd1の実行結果にかかわらずcmd2を実行
* cmd1&&cmd2 cmd1が成功した場合のみcmd2を実行
* cmd1||cmd2 cmd1が失敗した場合のみcmd2を実行

「失敗」とは終了コードが0以外であった場合のことをさす。

* (cmd1; cmd2) とすると同一のまとまりで実行する。リダイレクトとかが楽
* {cmd1; cmd2} とすると同一のシェル上でコマンドを実行する。
通常カレントディレクトリにあるコマンドを実行するときは`./app`のように起動する。セキュリティ的な問題で`./`にパスは通さない。

## 引用符
* ' シングルクォーテーション 中身が全て文字列と解釈される
  *  echo 'いまは`date`です'
* " ダブルクオーテーション 中身の変数やバッククオートが展開される
  *  echo "いまは`date`です"
* ` バッククォーテーション
  * コマンドの実行結果を展開する

## コマンド実行履歴
`history`コマンドで呼び出し、!N で実行。
`!!`で直前のコマンドを実行

## マニュアル参照
`man`コマンド。 `man ls` みたいな。使い方が出てくる。

## コマンド

